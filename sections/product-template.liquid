
<!-- page-breadcrumb -->

<div class="page-width"> 
  <div class="container page-breadcrumb">
    <div class="row mm-collection-breadcrumb">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
        <nav class="breadcrumb" role="navigation" aria-label="breadcrumbs">
          <a href="/" title="Home">Home</a>  
          {% if template contains 'product' and product.url %}
          <span aria-hidden="true">></span>
          {% if current_tags %}
          {% capture url %}/collections/{{ product.handle }}{% endcapture %}
          {{ product.title | link_to: url }}
          <span aria-hidden="true">/</span>
          <span>{{ current_tags | join: " + " }}</span>
          {% else %}
          <span class="collection-title">{{ product.title }}</span>
          {% endif %}
          {% endif %}
        </nav>
      </div>
    </div>
  </div>
</div>

<div class="product-template__container page-width"
     id="ProductSection-{{ section.id }}"
     data-section-id="{{ section.id }}"
     data-section-type="product"
     data-enable-history-state="true"
     data-ajax-enabled="{{ settings.enable_ajax }}"
     >
  {% comment %}
  Get first variant, or deep linked one
  {% endcomment %}
  {%- assign current_variant = product.selected_or_first_available_variant -%}
  {%- assign product_image_zoom_size = '1024x1024' -%}
  {%- assign product_image_scale = '2' -%}
  {%- assign enable_zoom = section.settings.enable_zoom -%}
  {%- assign compare_at_price = current_variant.compare_at_price -%}
  {%- assign price = current_variant.price -%}

  {% case section.settings.image_size %}
  {% when 'small' %}
  {%- assign product_image_width = 'medium-up--one-third' -%}
  {%- assign product_description_width = 'medium-up--two-thirds' -%}
  {%- assign product_thumbnail_width = 'medium-up--one-third' -%}
  {%- assign height = 345 -%}
  {% when 'medium' %}
  {%- assign product_image_width = 'medium-up--one-half' -%}
  {%- assign product_description_width = 'medium-up--one-half' -%}
  {%- assign product_thumbnail_width = 'medium-up--one-quarter' -%}
  {%- assign height = 530 -%}
  {% when 'large' %}
  {%- assign product_image_width = 'medium-up--two-thirds' -%}
  {%- assign product_description_width = 'medium-up--one-third' -%}
  {%- assign product_thumbnail_width = 'medium-up--one-fifth' -%}
  {%- assign height = 720 -%}
  {% when 'full' %}
  {%- assign product_image_width = '' -%}
  {%- assign product_description_width = '' -%}
  {%- assign product_thumbnail_width = 'medium-up--one-eighth' -%}
  {%- assign height = 1090 -%}
  {%- assign enable_zoom = false -%}
  {% endcase %}

  <div class="grid product-single{% if section.settings.enable_payment_button %} product-single--{{ section.settings.image_size }}-image{% endif %}">
    <div class="grid__item product-single__photos {{ product_image_width }}{% if section.settings.image_size == 'full' %} product-single__photos--full{% endif %}">
      {%- assign featured_image = product.selected_or_first_available_variant.featured_image | default: product.featured_image -%}
      {% for image in product.images %}
      {% capture img_id %}FeaturedImage-{{ section.id }}-{{ image.id }}{% endcapture %}
      {% capture img_class %}product-featured-img{% endcapture %}
      {% capture zoom_img_id %}FeaturedImageZoom-{{ section.id }}-{{ image.id }}{% endcapture %}
      {% capture img_wrapper_id %}{{ zoom_img_id }}-wrapper{% endcapture %}
      {%- assign img_url = image | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}

      {% include 'image-style', image: image, height: height, wrapper_id: img_wrapper_id, img_id: img_id %}

      <div id="{{ img_wrapper_id }}" class="product-single__photo-wrapper js">
        <div
             id="{{ zoom_img_id }}"
             style="padding-top:{{ 1 | divided_by: image.aspect_ratio | times: 100}}%;"
             class="product-single__photo{% if enable_zoom %} js-zoom-enabled{% endif %}{% if product.images.size > 1 %} product-single__photo--has-thumbnails{% endif %}{% unless featured_image == image %} hide{% endunless %}"
             data-image-id="{{ image.id }}"
             {% if enable_zoom %} data-zoom="{{ image | img_url: product_image_zoom_size, scale: product_image_scale }}"{% endif %}>
          <img id="{{ img_id }}"
               class="feature-row__image {{ img_class }} lazyload{% unless featured_image == image %} lazypreload{% endunless %}"
               src="{{ image | img_url: '300x300' }}"
               data-src="{{ img_url }}"
               data-widths="[180, 360, 540, 720, 900, 1080, 1296, 1512, 1728, 2048]"
               data-aspectratio="{{ image.aspect_ratio }}"
               data-sizes="auto"
               tabindex="-1"
               alt="{{ image.alt | escape }}">
        </div>
      </div>
      {% endfor %}

      <noscript>
        {% capture product_image_size %}{{ height }}x{% endcapture %}
        <img src="{{ featured_image | img_url: product_image_size, scale: product_image_scale }}" alt="{{ featured_image.alt }}" id="FeaturedImage-{{ section.id }}" class="product-featured-img" style="max-width: {{ height }}px;">
      </noscript>

      {% if product.images.size > 1 %}
      {% if product.images.size > 3 %}
      {%- assign enable_thumbnail_slides = true -%}
      {% endif %}

      <div class="thumbnails-wrapper{% if enable_thumbnail_slides == true %} thumbnails-slider--active{% endif %}">
        {% if enable_thumbnail_slides == true %}
        <button type="button" class="btn btn--link medium-up--hide thumbnails-slider__btn thumbnails-slider__prev thumbnails-slider__prev--{{ section.id }}">
          {% include 'icon-chevron-left' %}
          <span class="icon__fallback-text">{{ 'sections.slideshow.previous_slide' | t }}</span>
        </button>
        {% endif %}
        <ul class="grid grid--uniform product-single__thumbnails product-single__thumbnails-{{ section.id }}">
          {% for image in product.images %}
          <li class="grid__item {{ product_thumbnail_width }} product-single__thumbnails-item js">
            <a href="{{ image.src | img_url: product_image_zoom_size, scale: product_image_scale }}"
               class="text-link product-single__thumbnail product-single__thumbnail--{{ section.id }}"
               data-thumbnail-id="{{ image.id }}"
               {% if enable_zoom %}data-zoom="{{ image.src | img_url: product_image_zoom_size, scale: product_image_scale }}"{% endif %}>
              <img class="product-single__thumbnail-image" src="{{ image.src | img_url: '110x110', scale: 2 }}" alt="{{ 'sections.featured_product.gallery_thumbnail_alt' | t: imageAlt: image.alt | escape }}">
            </a>
          </li>
          {% endfor %}
        </ul>
        {% if enable_thumbnail_slides == true %}
        <button type="button" class="btn btn--link medium-up--hide thumbnails-slider__btn thumbnails-slider__next thumbnails-slider__next--{{ section.id }}">
          {% include 'icon-chevron-right' %}
          <span class="icon__fallback-text">{{ 'sections.slideshow.next_slide' | t }}</span>
        </button>
        {% endif %}
      </div>
      {% endif %}
    </div>

    <div class="grid__item {{ product_description_width }}">
      <div class="product-single__meta">

        <div class="product-title--section">
          <div class="product-title">
            <h1 class="product-single__title">{{ product.title }}</h1>
          </div>
          <div class="product-tags">
            {% assign showWeek = false %}
            {% assign noPower = true %}
            {% assign noAdd = true %}
            {% assign toricProd = false %}
            {% for tag in product.tags %}
            {% if tag contains 'week--' %}
            {% assign showWeek = true %}
            {% endif %}
            {% if tag contains 'no_power' %}
            {% assign noPower = false %}
            {% endif %}
            {% if tag contains 'productType_CL Solution' %}
            {% assign noAdd = false %}
            {% endif %}
            {% if tag contains 'p_toric' %}
            {% assign toricProd = true %}
            {% endif %}
            {% endfor %}
            {% if showWeek %}
            <div class="product-item-details_tag">
              {% for tag in product.tags %}
              {% if tag contains 'week--' %}
              {% assign text = tag | split: '--' | last %}
              <p><span><img src="{{ 'weekly.png' | asset_img_url }}" /></span>{{ text }}</p>
              {% endif %}
              {% endfor %}
            </div>
            {% endif %}
            {% assign showlens = false %}
            {% for tag in product.tags %}
            {% if tag contains 'lens--' %}
            {% assign showlens = true %}
            {% endif %}
            {% endfor %}
            {% if showlens %}
            <div class="product-item-details_tag">
              {% for tag in product.tags %}
              {% if tag contains 'lens--' %}
              {% assign text = tag | split: '--' | last %}
              <p><span><img src="{{ 'lens.png' | asset_img_url }}" /></span>{{ text }}</p>
              {% endif %}
              {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>


        <div class="product__price">
          {% include 'product-price', variant: current_variant, show_vendor: section.settings.show_vendor %}
        </div>

        {%- if shop.taxes_included or shop.shipping_policy.body != blank -%}
        <div class="product__policies rte" data-product-policies>
          {%- if shop.taxes_included -%}
          {{ 'products.product.include_taxes' | t }}
          {%- endif -%}
          {%- if shop.shipping_policy.body != blank -%}
          {{ 'products.product.shipping_policy_html' | t: link: shop.shipping_policy.url }}
          {%- endif -%}
        </div>
        {%- endif -%}

        {% capture "form_classes" -%}
        product-form product-form-{{ section.id }}
        {%- unless section.settings.show_variant_labels %} product-form--hide-variant-labels {% endunless %}
        {%- if section.settings.enable_payment_button and product.has_only_default_variant %} product-form--payment-button-no-variants {%- endif -%}
        {%- if current_variant.available == false %} product-form--variant-sold-out {%- endif -%}
        {%- endcapture %}

        {% form 'product', product, class:form_classes, novalidate: 'novalidate', data-product-form: '' %}
        {% unless product.has_only_default_variant %}
        <div class="product-form__controls-group">
          {% for option in product.options_with_values %}
          <div class="selector-wrapper js product-form__item" style="display:none">
            <label {% if option.name == 'default' %}class="label--hidden" {% endif %}for="SingleOptionSelector-{{ forloop.index0 }}">
              {{ option.name }}
            </label>
            <select class="single-option-selector single-option-selector-{{ section.id }} product-form__input master_selector"
                    id="SingleOptionSelector-{{ forloop.index0 }}"
                    data-index="option{{ forloop.index }}"
                    >
              {% for value in option.values %}
              <option value="{{ value | escape }}"{% if option.selected_value == value %} selected="selected"{% endif %}>{{ value }}</option>
              {% endfor %}
            </select>
          </div>
          {% endfor %}
        </div>
        {% endunless %}

        <select name="id" id="ProductSelect-{{ section.id }}" class="product-form__variants no-js">
          {% for variant in product.variants %}
          <option value="{{ variant.id }}" data-sku="{{variant.sku}}"
                  {%- if variant == current_variant %} selected="selected" {%- endif -%}
                  >
            {{ variant.title }}  {%- if variant.available == false %} - {{ 'products.product.sold_out' | t }}{% endif %}
          </option>
          {% endfor %}
        </select>

        <div class="box-section">
          <div class="parent-boxes">
            <div class="boxvariant-wrapper" data-index='1' box-key='1'>
              {% unless product.has_only_default_variant %}
              <div class="product-form__controls-group">
                {% for option in product.options_with_values %}
                <div class="selector-wrapper js product-form__item">
                  <label {% if option.name == 'default' %}class="label--hidden" {% endif %}for="SingleOptionSelector-{{ forloop.index0 }}">
                    {{ option.name }}
                  </label>
                  <select class="single-option-selector product-form__input"
                          id="SingleOptionSelector-{{ forloop.index0 }}"
                          data-index="option{{ forloop.index }}"
                          >
                    {% for value in option.values %}
                    <option value="{{ value | escape }}"{% if option.selected_value == value %} selected="selected"{% endif %}>{{ value }}</option>
                    {% endfor %}
                  </select>
                </div>
                {% endfor %}
              </div>
              {% endunless %}
              <div style="display:none" id="variant_id" data-id=""></div>
              <div class="property_content">
                {% if noPower %}
                <style>
                  .selector-wrapper {
                    padding-right: 15px;
                  }
                </style>
                <div class="line-item-property__field lineitem-con power_selector">
                 <label> {% if toricProd %} SPH {%else %}Power {% endif %}</label>
                  <select class="select-power" name="power">
                    <option value="0.00">0.00</option>
                    <option value="-0.50">-0.50</option>
                    <option value="-0.75">-0.75</option>
                    <option value="-1.00">-1.00</option>
                    <option value="-1.25">-1.25</option>
                    <option value="-1.50">-1.50</option>
                    <option value="-1.75">-1.75</option>
                    <option value="-2.00">-2.00</option>
                    <option value="-2.25">-2.25</option>
                    <option value="-2.50">-2.50</option>
                    <option value="-2.75">-2.75</option>
                    <option value="-3.00">-3.00</option>
                    <option value="-3.25">-3.25</option>
                    <option value="-3.50">-3.50</option>
                    <option value="-3.75">-3.75</option>
                    <option value="-4.00">-4.00</option>
                    <option value="-4.25">-4.25</option>
                    <option value="-4.50">-4.50</option>
                    <option value="-4.75">-4.75</option>
                    <option value="-5.00">-5.00</option>
                    <option value="-5.25">-5.25</option>
                    <option value="-5.50">-5.50</option>
                    <option value="-5.75">-5.75</option>
                    <option value="-6.00">-6.00</option>
                    <option value="-6.50">-6.50</option>
                    <option value="-7.00">-7.00</option>
                    <option value="-7.50">-7.50</option>
                    <option value="-8.00">-8.00</option>
                    <option value="-8.50">-8.50</option>
                    <option value="-9.00">-9.00</option>      
                  </select>
                </div>
                {% else %}

                {%endif%}
                {% if toricProd %}
                <div class="line-item-property__field lineitem-con power_selector cyl-select">
                  <label>CYL</label>
                  <select class="cyl">
                    <option value="-0.75">-2</option>
                    <option value="-1.25">-1.25</option>
                    <option value="-1.75">-1.75</option>
                    <option value="-2.25">-2.25</option>
                  </select>
                </div>
                <div class="line-item-property__field lineitem-con power_selector axis-select">
                  <label>Axis</label>
                  <select id="axis1" class="axis">
                    <option value="10">10</option>
                    <option value="30">30</option>
                    <option value="40">40</option>
                    <option value="50">50</option>
                    <option value="60">60</option>
                    <option value="70">70</option>
                    <option value="80">80</option>
                    <option value="90">90</option>
                    <option value="100">100</option>
                    <option value="120">120</option>
                    <option value="130">130</option>
                    <option value="140">140</option>
                    <option value="150">150</option>
                    <option value="160">160</option>
                    <option value="180">180</option>
                  </select>
                </div>

                {% endif %}
                {% if section.settings.show_quantity_selector %}
                <div class="product-form__controls-group boxes_selector">
                  <div class="product-form__item">
                    <label for="Quantity-{{ section.id }}">No. of Boxes</label>
                    <input type="number" id="Quantity-{{ section.id }}" name="quantity" value="1" min="1" pattern="[0-9]*" class="product-form__input product-form__input--quantity box-qty" data-quantity-input>
                  </div>
                </div>
                {% endif %}
                
                <img class="delete-box" src="https://i.ibb.co/ThRDjbR/cancel-1.png">
              </div>

            </div>
          </div>
          {% if noAdd %}
          <div class="extra-wrapper">
            <span id="add_boxes" class="add-boxes">+ Add more</span>
          </div>
          {% endif %}
          <style>
            .property_content{
              padding:0 10px;
            }
          </style>
        </div>
        <div class="product-form__error-message-wrapper product-form__error-message-wrapper--hidden{% if section.settings.enable_payment_button %} product-form__error-message-wrapper--has-payment-button{% endif %}"
             data-error-message-wrapper
             role="alert"
             >
          <span class="visually-hidden">{{ 'general.accessibility.error' | t }} </span>
          {% include 'icon-error' %}
          <span class="product-form__error-message" data-error-message>{{ 'products.product.quantity_minimum_message' | t }}</span>
        </div>

        <div class="product-form__controls-group product-form__controls-group--submit">
          <div class="product-form__item product-form__item--submit
                      {%- if section.settings.enable_payment_button %} product-form__item--payment-button {%- endif -%}
                      {%- if product.has_only_default_variant %} product-form__item--no-variants {%- endif -%}"
               >
            <button type="submit" name="add"
                    {% unless current_variant.available %} aria-disabled="true"{% endunless %}
                    aria-label="{% unless current_variant.available %}{{ 'products.product.sold_out' | t }}{% else %}{{ 'products.product.add_to_cart' | t }}{% endunless %}"
                    class="btn product-form__cart-submit cart-checkout{% if section.settings.enable_payment_button %} btn--secondary-accent{% endif %}"
                    data-add-to-cart>
              <span data-add-to-cart-text>
                {% unless current_variant.available %}
                {{ 'products.product.sold_out' | t }}
                {% else %}
                {{ 'products.product.add_to_cart' | t }} & Checkout
                {% endunless %}
              </span>
              <span class="hide" data-loader>
                {% include 'icon-spinner' %}
              </span>
            </button>

            <button type="button"
                    {% unless current_variant.available %} aria-disabled="true"{% endunless %}
                    aria-label="{% unless current_variant.available %}{{ 'products.product.sold_out' | t }}{% else %}{{ 'products.product.add_to_cart' | t }}{% endunless %}"
                    class="btn {% if current_variant.available %}addtocart-products {% endif %}{% if section.settings.enable_payment_button %} btn--secondary-accent{% endif %}"
                    data-add-to-cart>
              <span data-add-to-cart-text>
                {% unless current_variant.available %}
                {{ 'products.product.sold_out' | t }}
                {% else %}
                {{ 'products.product.add_to_cart' | t }}
                {% endunless %}
              </span>
              <span class="hide" data-loader>
                {% include 'icon-spinner' %}
              </span>
            </button>


            {% if section.settings.enable_payment_button %}
            {{ form | payment_button }}
            {% endif %}
          </div>
        </div>
        {% endform %}
      </div>

      {%- comment -%}
      Live region for announcing updated price and availability to screen readers
      {%- endcomment -%}
      <p class="visually-hidden" data-product-status
         aria-live="polite"
         role="status"
         ></p>

      {%- comment -%}
      Live region for announcing that the product form has been submitted and the
      product is in the process being added to the cart
      {%- endcomment -%}
      <p class="visually-hidden" data-loader-status
         aria-live="assertive"
         role="alert"
         aria-hidden="true"
         >{{ 'products.product.loader_label' | t }}</p>


      {% if section.settings.show_share_buttons %}
      {% include 'social-sharing', share_title: product.title, share_permalink: product.url, share_image: product %}
      {% endif %}
    </div>
  </div>
</div>


<!-- description section -->
{% comment %}
{% render 'mm-product-description' %}
{% endcomment %}

{% unless product == empty %}
<script type="application/json" id="ProductJson-{{ section.id }}">
    {{ product | json }}
</script>
{% endunless %}

<script>
  $(function(){

    function sessionLenskartToken(){
      var settings = {
        "url": "https://api.lenskart.com/v2/sessions",
        "method": "POST",
        "timeout": 0,
        "headers": {
          "Cookie": "__cfduid=de2de4d84e31fb54158361b729a5d71021591873077; __cfruid=8130d6b0bc72e61f94795e4ff70e39f2623ff3ca-1592997891"
        },
      };
      $.ajax(settings).done(function (response) {
        console.log(response.result.id);
        sessionStorage.setItem("lToken",response.result.id);
      });
    }
    sessionLenskartToken();

    var variantId = $('.product-form__variants option:selected').val();
    $('#variant_id').attr('data-id',variantId );
    $(document).on('change', '.boxvariant-wrapper .product-form__input ', function(){

      var id_holder  = $(this).parents(".product-form__controls-group").siblings("#variant_id");
      $(id_holder).attr("data-id",'');
      let selected_variant = $(this).val();
      $('.master_selector option').each(function(){
        var master_value = $(this).text();
        if(master_value .indexOf(selected_variant) != -1){
          $('.master_selector').val(master_value).trigger('change');
          $(id_holder).attr("data-id",$('#ProductSelect-product-template').val());
        };
      });
    })
  });

  $(document).on('click', '.addtocart-products', function(){
    let $text = $(this).text();
    let $btn = $(this);
    $btn.text("please wait").addClass("disabled");
    var lToken = sessionStorage.getItem("lToken");
    var variantId = $('.product-form__variants option:selected').val();
    var finalData = [];
    var getLen = $('.boxvariant-wrapper').length;
    var style= "<div class='powererror'>*Power Out Of Stock</div>";
    var gstyle= "<div class='addPGreen'>*Added into the cart</div>";
    $('.powererror').remove();
    for (i=0; i<getLen; i++){
      var getElement = $('.boxvariant-wrapper')[i];
      var getQty = $(getElement).find('.box-qty').val();
      var getSelect = $(getElement).find('.select-power').val();
      var getVariant = $(getElement).find('#variant_id').attr('data-id');
      var getSelectCyl = $(getElement).find('.cyl').val();
      var getSelectAxis = $(getElement).find('.axis').val();
//       var sku = meta.product.variants[0].sku;
      var sku = $('.product-form__variants option:selected').attr("data-sku");
      var errorPower = 0;
      var success = 0;
      sku = parseInt(sku);
      var getProperties = {
        'power': getSelect,
        'cyl': getSelectCyl,
        'axis': getSelectAxis
      }
      finalData.push({
        quantity: getQty,
        id: getVariant,
        properties: getProperties
      })
    };

    {% if noPower %}
    var dataB;
    function boxpoerA(dataB){
      if(typeof dataB === 'undefined'){
        var dataBC = 0;
      }
      else{
        dataBC = dataB;
      }
      if(dataBC<getLen){
       let cyl = "" ;
        let axis = "";
        var qty = finalData[dataBC].quantity;
        qty = parseInt(qty);
        var power = finalData[dataBC].properties.power;
        if(finalData[dataBC].properties.cyl){
          cyl = finalData[dataBC].properties.cyl;
        }
        if(finalData[dataBC].properties.axis){
         axis = finalData[dataBC].properties.axis;
        }
        var datain = dataBC;

        var dataValidate = {
          "productId": "" + sku + "",
          "prescription": {
            "userName": "",
            "quantity": qty,
            "dob": "",
            "gender": "",
            "left": {
              "boxes": "" +qty+ "",
              "sph": "" +power+ "",
              "cyl" : "" +cyl+"",
              "axis" : ""+axis+""
            },
            "relatedProductIds": ["" + sku + ""]
          }
        };

        var settings = {
          "url": "https://api.lenskart.com/v2/carts/validateCart",
          "method": "POST",
          "timeout": 0,
          "headers": {
            "x-session-token": lToken,
            "x-api-client": "aqualens",
            "Content-Type": "application/json",
            "Cookie": "__cfduid=de2de4d84e31fb54158361b729a5d71021591873077; __cfruid=8130d6b0bc72e61f94795e4ff70e39f2623ff3ca-1592997891"
          },
          "data": JSON.stringify(dataValidate),
        };
        $.ajax(settings).done(function (response) {
          debugger;
          $btn.text($text).removeClass("disabled");
          if(response.result[0] && response.result[0].isSuccess){
            var returnD = response.result[0].isSuccess;
            if(returnD ==  true){
              var ajaxData = {
                quantity: finalData[dataBC].quantity,
                id: finalData[dataBC].id,
                properties: finalData[dataBC].properties,
              }
              $.ajax({
                url : '/cart/add.js',
                type: 'POST',
                dataType: 'JSON',
                data : ajaxData,
                success:function(response){ 
                  if($(".boxvariant-wrapper[box-key="+(dataBC+1)+"]").find(".addPGreen").length == 0){
                    $(".boxvariant-wrapper[box-key="+(dataBC+1)+"]").append(gstyle);
                  }
                  $(".boxvariant-wrapper[box-key="+(dataBC+1)+"]").find('.powererror').remove();
                  dataBC = dataBC+1;
                  boxpoerA(dataBC);
                  success = success+1;
                  if(success == getLen){
                    reloadpage();
                  }
                }
              });

            }
          }
          else{
  
            $(".boxvariant-wrapper[box-key="+(dataBC+1)+"] .property_content").append(style);
            
            errorPower = errorPower +1;
            dataBC = dataBC+1;
            boxpoerA(dataBC);
          }
        }).fail(function(error){
          $btn.text($text).removeClass("disabled");
           $(".boxvariant-wrapper[box-key="+(dataBC+1)+"] .property_content").append(style);
          
          errorPower = errorPower +1;
          dataBC = dataBC+1;
          boxpoerA(dataBC);
        })            


      }
    }
    if(typeof dataB === 'undefined'){
      boxpoerA()
    }

    {% else %}
    $.ajax({
      url : '/cart/add.js',
      type: 'POST',
      dataType: 'JSON',
      data : {items:finalData},
      success:function(response){ 
        window.location.href = '/cart';
      }
    });
    {% endif %}





    function reloadpage(){
      window.location.href = '/cart';
    }
  });


</script>


{% schema %}
{
"name": {
"da": "Produktsider",
"de": "Produktseiten",
"en": "Product pages",
"es": "Páginas de productos",
"fi": "Tuotesivut",
"fr": "Pages de produits",
"hi": "उत्पाद पेज",
"it": "Pagine di prodotto",
"ja": "商品ページ",
"ko": "제품 페이지",
"ms": "Halaman produk",
"nb": "Produktsider",
"nl": "Productpagina's",
"pt-BR": "Páginas de produtos",
"pt-PT": "Páginas de produtos",
"sv": "Produktsidor",
"th": "หน้าสินค้า",
"zh-CN": "产品页面",
"zh-TW": "產品頁面"
},
"settings": [
{
"type": "select",
"id": "image_size",
"label": {
"da": "Billedets størrelse",
"de": "Foto-Größe",
"en": "Image size",
"es": "Tamaño de la imagen",
"fi": "Kuvan koko",
"fr": "Taille des images",
"hi": "इमेज का आकार",
"it": "Dimensione immagine",
"ja": "画像サイズ",
"ko": "이미지 크기",
"ms": "Saiz imej",
"nb": "Bildestørrelse",
"nl": "Afbeeldingsformaat",
"pt-BR": "Tamanho da imagem",
"pt-PT": "Tamanho da imagem",
"sv": "Bildstorlek",
"th": "ขนาดรูปภาพ",
"zh-CN": "图片尺寸",
"zh-TW": "圖片尺寸"
},
"options": [
{
"value": "small",
"label": {
"da": "Lille",
"de": "Klein",
"en": "Small",
"es": "Pequeña",
"fi": "Pieni",
"fr": "Petite",
"hi": "छोटा",
"it": "Piccolo",
"ja": "小",
"ko": "스몰",
"ms": "Kecil",
"nb": "Liten",
"nl": "Klein",
"pt-BR": "Pequeno",
"pt-PT": "Pequeno",
"sv": "Liten",
"th": "เล็ก",
"zh-CN": "小",
"zh-TW": "小型"
}
},
{
"value": "medium",
"label": {
"da": "Medium",
"de": "Mittel",
"en": "Medium",
"es": "Mediana",
"fi": "Keskisuuri",
"fr": "Moyenne",
"hi": "मध्यम",
"it": "Medio",
"ja": "中",
"ko": "보통",
"ms": "Sederhana",
"nb": "Middels",
"nl": "Gemiddeld",
"pt-BR": "Médio",
"pt-PT": "Médio",
"sv": "Medium",
"th": "ปานกลาง",
"zh-CN": "中等",
"zh-TW": "中等"
}
},
{
"value": "large",
"label": {
"da": "Stor",
"de": "Groß",
"en": "Large",
"es": "Grande",
"fi": "Suuri",
"fr": "Grande",
"hi": "बड़ा",
"it": "Grande",
"ja": "大",
"ko": "라지",
"ms": "Besar",
"nb": "Stor",
"nl": "Groot",
"pt-BR": "Grande",
"pt-PT": "Grande",
"sv": "Stor",
"th": "ใหญ่",
"zh-CN": "大",
"zh-TW": "大型"
}
},
{
"value": "full",
"label": {
"da": "Fuld bredde",
"de": "Volle Breite",
"en": "Full-width",
"es": "Ancho completo",
"fi": "Täysi leveys",
"fr": "Pleine largeur",
"hi": "पूर्ण चौड़ाई",
"it": "Intera larghezza",
"ja": "全幅",
"ko": "전체 폭",
"ms": "Lebar penuh",
"nb": "Full bredde",
"nl": "Volledige breedte",
"pt-BR": "Largura completa",
"pt-PT": "Largura completa",
"sv": "Full bredd",
"th": "เต็มความกว้าง",
"zh-CN": "全宽",
"zh-TW": "完整寬度"
}
}
],
"default": "medium"
},
{
"type": "checkbox",
"id": "show_quantity_selector",
"label": {
"da": "Vis antalsvælger",
"de": "Quantitäts-Auswahl anzeigen",
"en": "Show quantity selector",
"es": "Mostrar selector de cantidad",
"fi": "Näytä määrän valitsin",
"fr": "Afficher le sélecteur de quantité",
"hi": "मात्रा चयनकर्ता दिखाएं",
"it": "Mostra selettore quantità",
"ja": "数量セレクターを表示する",
"ko": "수량 선택기 표시",
"ms": "Tunjukkan pemilih kuantiti",
"nb": "Vis mengdevelger",
"nl": "Hoeveelheidskiezer weergeven",
"pt-BR": "Exibir seletor de quantidade",
"pt-PT": "Mostrar um seletor de quantidade",
"sv": "Visa kvantitetsväljare",
"th": "แสดงตัวเลือกจำนวน",
"zh-CN": "显示数量选择器",
"zh-TW": "顯示數量選擇器"
},
"default": false
},
{
"type": "checkbox",
"id": "show_variant_labels",
"label": {
"da": "Vis variantlabels",
"de": "Varianten-Etiketten anzeigen",
"en": "Show variant labels",
"es": "Mostrar etiquetas de variantes",
"fi": "Näytä vaihtoehtoiset tarrat",
"fr": "Afficher le nom des variantes",
"hi": "वेरिएंट लेबल दिखाएं",
"it": "Mostra etichette varianti",
"ja": "バリエーションのラベルを表示する",
"ko": "이형 상품 레이블 표시",
"ms": "Tunjukkan label varian",
"nb": "Vis variantetiketter",
"nl": "Variantlabels weergeven",
"pt-BR": "Exibir etiquetas de variantes",
"pt-PT": "Mostrar etiquetas de variantes",
"sv": "Visa variantetiketter",
"th": "แสดงป้ายกำกับตัวเลือกสินค้า",
"zh-CN": "显示多属性标签",
"zh-TW": "顯示子類選項標籤"
},
"default": true
},
{
"type": "checkbox",
"id": "show_vendor",
"label": {
"da": "Vis leverandør",
"de": "Lieferanten anzeigen",
"en": "Show vendor",
"es": "Mostrar proveedor",
"fi": "Näytä myyjä",
"fr": "Afficher les vendeurs",
"hi": "विक्रेता दिखाएं",
"it": "Mostra fornitore",
"ja": "販売元を表示する",
"ko": "공급업체 표시",
"ms": "Tunjukkan vendor",
"nb": "Vis leverandør",
"nl": "Leverancier weergeven",
"pt-BR": "Exibir fornecedor",
"pt-PT": "Mostrar fornecedor",
"sv": "Visa säljare",
"th": "แสดงผู้ขาย",
"zh-CN": "显示厂商",
"zh-TW": "顯示廠商"
},
"default": false
},
{
"type": "checkbox",
"id": "enable_zoom",
"label": {
"da": "Aktivér billedzoom",
"de": "Foto-Zoom zulassen",
"en": "Enable image zoom",
"es": "Habilitar zoom de imagen",
"fi": "Ota kuvan zoomaus käyttöön",
"fr": "Activer le zoom d'image",
"hi": "इमेज ज़ूम सक्षम करें",
"it": "Abilita lo zoom dell'immagine",
"ja": "画像ズームを有効にする",
"ko": "이미지 확대 사용",
"ms": "Dayakan zum imej",
"nb": "Aktiver bildezoom",
"nl": "Inzoomen op afbeelding inschakelen",
"pt-BR": "Habilitar o zoom da imagem",
"pt-PT": "Ativar o zoom da imagem",
"sv": "Aktivera bildzoom",
"th": "เปิดใช้การซูมภาพ",
"zh-CN": "启用图片缩放",
"zh-TW": "啟用圖片縮放"
},
"default": true
},
{
"type": "checkbox",
"id": "enable_payment_button",
"label": {
"da": "Vis dynamisk betalingsknap",
"de": "Dynamischen Checkout Button anzeigen",
"en": "Show dynamic checkout button",
"es": "Mostrar botón de pago dinámico",
"fi": "Näytä dynaaminen kassapainike",
"fr": "Afficher le bouton de passage à la caisse dynamique",
"hi": "डायनेमिक चेकआउट बटन दिखाएं",
"it": "Mostra pulsante di check-out dinamico",
"ja": "ダイナミックチェックアウトボタンを表示する",
"ko": "동적 결제 버튼 표시",
"ms": "Tunjukkan butang daftar keluar dinamik",
"nb": "Vis dynamisk knapp for å gå til kassen",
"nl": "Dynamische checkout knop weergeven",
"pt-BR": "Exibir botão dinâmico de finalização da compra",
"pt-PT": "Mostrar o botão dinâmico de finalização da compra",
"sv": "Visa dynamiska utcheckningsknappar",
"th": "แสดงปุ่มชำระเงินแบบไดนามิก",
"zh-CN": "显示动态结账按钮",
"zh-TW": "顯示動態結帳按鈕"
},
"info": {
"da": "Den enkelte kunde vil se sin foretrukne betalingsmetode blandt dem, der er tilgængelige i din butik, f.eks. PayPal eller Apple Pay. [Få mere at vide](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"de": "Jeder Kunde sieht seine bevorzugte Zahlungsmethode aus den in Ihrem Shop verfügbaren Zahlungsmethoden wie PayPal oder Apple Pay. [Mehr Infos](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"en": "Each customer will see their preferred payment method from those available on your store, such as PayPal or Apple Pay. [Learn more](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"es": "Cada cliente verá su forma de pago preferida entre las disponibles en tu tienda, como PayPal o Apple Pay. [Más información](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"fi": "Kukin asiakas näkee ensisijaisen valintansa kauppasi tarjoamista maksutavoista, esim. PayPal tai Apple Pay. [Lisätietoja](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"fr": "Chaque client verra son moyen de paiement préféré parmi ceux qui sont proposés sur votre boutique, tels que PayPal ou Apple Pay. [En savoir plus](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"hi": "प्रत्येक ग्राहक आपके स्टोर पर उपलब्ध अपनी पसंदीदा भुगतान की विधि देखेंगे जैसे PayPal या Apple Pay. [अधिक जानें](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"it": "Ogni cliente vedrà il suo metodo di pagamento preferito tra quelli disponibili nel tuo negozio, come PayPal o Apple Pay. [Maggiori informazioni](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"ja": "PayPalやApple Payなど、ストアで利用可能な希望の決済方法がお客様に表示されます。[もっと詳しく](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"ko": "각 고객은 PayPal 또는 Apple Pay와 같이 스토어에서 사용 가능한 지불 방법을 확인할 수 있습니다. [자세히 알아보기](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"ms": "Setiap pelanggan akan melihat kaedah pembayaran keutamaan mereka dari yang tersedia di kedai anda, seperti PayPal atau Apple Pay. [Ketahui lebih lanjut](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"nb": "Hver enkelt kunde vil se sin foretrukne betalingsmåte blant de som er tilgjengelig i butikken din, som PayPal eller Apple Pay. [Finn ut mer](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"nl": "Elke klant ziet zijn of haar beschikbare voorkeursmethode om af te rekenen, zoals PayPal of Apple Pay. [Meer informatie](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"pt-BR": "Cada cliente verá sua forma de pagamento preferida dentre as disponíveis na loja, como PayPal ou Apple Pay. [Saiba mais](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"pt-PT": "Cada cliente irá ver o seu método de pagamento preferido entre os disponíveis na loja, como o PayPal ou Apple Pay. [Saiba mais](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"sv": "Varje kund kommer att se den föredragna betalningsmetoden från de som finns tillgängliga i din butik, till exempel PayPal eller Apple Pay. [Läs mer](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"th": "ลูกค้าแต่ละรายจะเห็นวิธีการชำระเงินที่ต้องการจากวิธีที่ใช้ได้ในร้านค้าของคุณ เช่น PayPal หรือ Apple Pay [ดูข้อมูลเพิ่มเติม](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"zh-CN": "每位客户都可在您商店提供的付款方式中看到他们的首选付款方式，例如 PayPal 或 Apple Pay。[了解详细信息](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)",
"zh-TW": "每位顧客都可以在您商店內開放使用的付款方式中看見他們偏好使用的方式，如 PayPal、Apple Pay 等。[深入瞭解相關資訊](https://help.shopify.com/manual/using-themes/change-the-layout/dynamic-checkout)"
},
"default": true
},
{
"type": "checkbox",
"id": "show_share_buttons",
"label": {
"da": "Vis knapper til deling på sociale medier",
"de": "Buttons für Social Media anzeigen",
"en": "Show social sharing buttons",
"es": "Mostrar botones para compartir en redes sociales",
"fi": "Näytä sosiaalisen median jakamispainikkeet",
"fr": "Affichez les boutons de partage sur les médias sociaux",
"hi": "सोशल शेयरिंग बटन दिखाएं",
"it": "Mostra i pulsanti per la condivisione sui social",
"ja": "ソーシャル共有ボタンを表示する",
"ko": "소셜 공유 버튼 표시",
"ms": "Tunjukkan butang perkongsian sosial",
"nb": "Vis knapper for deling på sosiale medier",
"nl": "Knoppen voor sociaal delen weergeven",
"pt-BR": "Exibir botões de compartilhamento em redes sociais",
"pt-PT": "Mostrar botões de partilha nas redes sociais",
"sv": "Visa knappar för delning i sociala medier",
"th": "แสดงปุ่มสำหรับแชร์ลงโซเชียล",
"zh-CN": "显示社交分享按钮",
"zh-TW": "顯示社群分享按鈕"
},
"default": true
},
{
"type": "text",
"id": "headertext",
"label": "Header"
},
{
"type": "textarea",
"id": "text",
"label": "Content"
},
{
"type": "text",
"id": "notetext",
"label": "Note Text"
}
]

}
{% endschema %}
