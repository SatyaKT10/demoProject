<style>
  .feature__section{
    margin: 15px auto;
    max-width: 1341px;
    padding: 0 15px;
  }
  
  .feature__section--header h2{
    font-family: 'Poppins';
    font-style: normal;
    font-style: normal;
    font-weight: 600;
    font-size: calc(28px + (45 - 24) * ((100vw - 375px) / (1440 - 375)));
    margin-top: calc(35px + (60 - 35) * ((100vw - 375px) / (1440 - 375)));
    margin-bottom: calc(25px + (60 - 25) * ((100vw - 375px) / (1440 - 375)));
    line-height: calc(27px + (50 - 27) * ((100vw - 375px) / (1440 - 375)));
    color: #303030;
    text-align: center;
    letter-spacing: 0;
    text-transform:capitalize;
  }

  .toric_card{
    display: flex;
    flex-wrap: wrap;
    column-gap: 60px;
    row-gap: 40px;
  }

  .toric_card--wrapper {
    flex: 0 0 calc(33.33% - 40px);
    width: calc(33.33% - 40px);
    border-radius: 4px;
    background: #FFFFFF;
    box-shadow: 0px 4px 6px rgb(0 0 0 / 15%);
    position: relative;
    margin:0 15px;
  }
  
  .toric_card--title {
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 700;
    font-size: 18px;
    line-height: 129%;
    color: #000000;
    margin: 0 15px;
    margin-top: 15px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(102, 102, 102, 0.06);
  }
  
  .toric_card--offer {
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 500;
    font-size: 12px;
    line-height: 129%;
    letter-spacing: 0.045em;
    color: #23D3A9;
    display: flex;
    gap: 8px;
    align-items: center;
    margin: 15px;
  }
  
  .toric_card--order {
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 500;
    font-size: 12px;
    line-height: 173%;
    color: rgba(102, 102, 102, 0.8);
    display: flex;
    gap: 8px;
    align-items: center;
    margin: 15px;
  }

  .toric_card--price {
    border-top: 1px solid rgba(102, 102, 102, 0.15);
    padding: 15px;
  }
  .toric_card--price-selling {
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 700;
    font-size: 18px;
    line-height: 173%;
    color: #000000;
  }
  .toric_card--price-original {
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 400;
    font-size: 14px;
    line-height: 173%;
    text-decoration-line: line-through;
    color: rgba(0, 0, 0, 0.3);
    margin-left: 20px;
  }
  
  .toric__card--img {
    position: relative;
    padding-bottom: 90%;
    width: 100%!important;
    background: #FFFFFF;
  }

  .toric__card--img img{
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: 4px 4px 0px 0px;
  }

/*   .toric_card--slider img{
    max-width: 100%;
    object-fit: cover;
    vertical-align: middle;
    margin-left: auto;
    margin-right: auto;
    width: 100%;
    max-height: 100%;
  } */
  
  .toric_card--image {
    position: relative;
  }
  
  .toric_card--rating {
    top: 15px;
    position: absolute;
    right: 15px;
    background: #5965AB;
    border-radius: 4px;
    width: 50px;
    height: 22px;
    display: flex;
    align-items: center;
    justify-content: space-evenly;
    font-family: Poppins;
    font-style: normal;
    line-height: 22px;
    color: #FFFFFF;
    font-weight: 400;
    font-size: 12px;
  }
  
  .toric_card--power {
    top: 15px;
    position: absolute;
    left: 15px;
    display: block;
    padding: 0px 8px;
    border-radius: 4px;
    background: #5965AB;
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 600;
    font-size: 10px;
    line-height: 22px;
    color: #FFFFFF;
    width: -moz-fit-content;
    width: fit-content;
  }

  .slick-slider .slick-dots li button:before, .slick-slider .slick-dots li a:before {
    text-indent: -9999px;
    border-radius: 100%;
    background-color: transparent;
    border: 2px solid #00BAC6;
    width: 0.75rem;
    height: 0.75rem;
    margin: 0.25rem 0 0 0.25rem;
    opacity: 1;
  }
  .slick-slider .slick-dots li.slick-active button:before {
    background-color: #00BAC6;
    border-color: #00BAC6;
    opacity: 1;
    width: 0.75rem;
    height: 0.75rem;
    margin: 0.25rem 0 0 0.25rem;
  }
  
  .toric_card--price-discount {
    position: absolute;
    right: -19px;
    bottom: 15px;
    font-family: 'Poppins';
    font-style: normal;
    font-weight: 700;
    font-size: 18px;
    line-height: 173%;
    color: #FFFFFF;
    background-color: #FF6330;
    width: fit-content;
    padding: 3px 30px;
  }
  
  .toric_card--price-discount .discount__triangle {
    position: absolute;
    top: -11px;
    right: 0px;
    width: 0;
    height: 0;
    border-bottom: 11px solid #842000;
    border-right: 19px solid transparent;
  }
  
  .js__slider--filter{
    display: flex;
    flex-wrap:nowrap;
    overflow:hidden;
    overflow-x: scroll;
    -ms-overflow-style: none; 
    scrollbar-width: none;
    gap: 20px;
    margin: 0 -15px;
    padding: 15px 15px;
    margin-bottom:100px;
  }

  .js__slider--filter::-webkit-scrollbar {
    display: none;
  }
  
  @media(min-width:1440px){    
    .feature__section--header h2{
      font-size: 48px;
      line-height: 50px;
      margin-bottom: 60px;
      margin-top: 60px;
    }
  }
  
  @media(min-width:749px) and (max-width:949px){ 
    .toric_card--wrapper {
      flex: 0 0 calc(50% - 30px);
      width: calc(50% - 30px);
    }
  }  

  @media(max-width:749px){    
    .toric_card{
      flex-direction: column;
      row-gap: 15px;
    }
    .toric_card--wrapper {
      flex: 0 0 85%;
      width: 85%;
    }

    .js__slider--filter{
      flex-direction: row;
      justify-content: flex-start;
      gap: 15px;
      margin: 0 -15px;
      padding: 15px 15px;
    }
  }

</style>


{% assign feature_slider = section.blocks | where: 'type', 'feature_slider' %}

<section data-section-id="{{ section.id }}" data-section-type="feature__category-section" class="feature__section prd__section" id="featureSection">
  
  {% if section.settings.section-heading != blank%}
  <div class="feature__section--header">
    <h2>{{ section.settings.section-heading }}</h2>
  </div>
  {% endif %}
  
  <div class="toric_card js__slider--filter">
    {% for block in feature_slider  %}
    {% assign product =  block.settings.card_product %}    
    {% if product != empty%}
    {% assign productMeta =  product.metafields.global.product_reviews %}
    {% assign productRating =  productMeta.ratings.product_rating %}
    <div class="toric_card--wrapper">
      <a href="{{product.url}}" class="toric_card--link" >
        {% if block.settings.card_image1 != '' or  block.settings.card_image2 !=''  %}
        <div class="toric_card--image">
          <div class="toric_card--slider card__slider--toric">
            {% if block.settings.card_image1 %}
            <div class="toric__card--image-wrapper">
              <div class="toric__card--img">
                <img class="lazyload" src="{{block.settings.card_image1 | img_url :'small'}}" data-src="{{block.settings.card_image1 | img_url :'master'}}"  />
              </div>
            </div>
            {% endif %}
            {% if block.settings.card_image2 %}
            <div class="toric__card--image-wrapper">
              <div class="toric__card--img">
                <img class="lazyload" src="{{block.settings.card_image1 | img_url :'small'}}" data-src="{{block.settings.card_image2 | img_url :'master'}}"  />
              </div>
            </div>
            {% endif %}
            {% if block.settings.card_image3 %}
            <div class="toric__card--image-wrapper">
              <div class="toric__card--img">
                <img class="lazyload" src="{{block.settings.card_image3 | img_url :'small'}}" data-src="{{block.settings.card_image3 | img_url :'master'}}"  />
              </div>
            </div>
            {% endif %}
          </div>
          
          {% if productMeta %}
          <div class="toric_card--rating">
            <svg width="15" height="14" viewBox="0 0 15 14" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.5 0L9.18386 5.18237H14.6329L10.2245 8.38525L11.9084 13.5676L7.5 10.3647L3.09161 13.5676L4.77547 8.38525L0.367076 5.18237H5.81614L7.5 0Z" fill="#FFBD50"/>
            </svg>
            <span class="toric_card--rating-text">{{ productRating }}</span>
          </div>
          {% endif %}

          {% if block.settings.card_power != '' %}
          <div class="toric_card--power">
            <span class="toric_card--power-text">{{ block.settings.card_power }}</span>
          </div>
          {% endif %}          
        </div>
        {% endif %}
        
        <div class="toric_card--content">
          <div class="toric_card--title">
            {{ product.title}}
          </div>
          
          {% if block.settings.card_offer != '' %}
          <div class="toric_card--offer">
            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.5 5.24997H13.2375C13.4087 4.89954 13.4984 4.51496 13.5 4.12497C13.5023 3.60246 13.3481 3.09123 13.0574 2.65709C12.7666 2.22295 12.3526 1.88575 11.8686 1.68892C11.3845 1.49209 10.8527 1.44462 10.3415 1.55263C9.83024 1.66063 9.36304 1.91917 9 2.29497C8.63696 1.91917 8.16976 1.66063 7.65854 1.55263C7.14731 1.44462 6.61546 1.49209 6.13144 1.68892C5.64742 1.88575 5.23339 2.22295 4.94264 2.65709C4.65189 3.09123 4.49773 3.60246 4.5 4.12497C4.5016 4.51496 4.59134 4.89954 4.7625 5.24997H4.5C3.90326 5.24997 3.33097 5.48702 2.90901 5.90898C2.48705 6.33093 2.25 6.90323 2.25 7.49997V8.99997C2.25 9.19888 2.32902 9.38964 2.46967 9.5303C2.61032 9.67095 2.80109 9.74997 3 9.74997H3.75V14.25C3.75 14.8467 3.98705 15.419 4.40901 15.841C4.83097 16.2629 5.40326 16.5 6 16.5H12C12.5967 16.5 13.169 16.2629 13.591 15.841C14.0129 15.419 14.25 14.8467 14.25 14.25V9.74997H15C15.1989 9.74997 15.3897 9.67095 15.5303 9.5303C15.671 9.38964 15.75 9.19888 15.75 8.99997V7.49997C15.75 6.90323 15.5129 6.33093 15.091 5.90898C14.669 5.48702 14.0967 5.24997 13.5 5.24997ZM8.25 15H6C5.80109 15 5.61032 14.921 5.46967 14.7803C5.32902 14.6396 5.25 14.4489 5.25 14.25V9.74997H8.25V15ZM8.25 8.24997H3.75V7.49997C3.75 7.30105 3.82902 7.11029 3.96967 6.96964C4.11032 6.82899 4.30109 6.74997 4.5 6.74997H8.25V8.24997ZM8.25 5.24997H7.125C6.9025 5.24997 6.68499 5.18399 6.49998 5.06037C6.31498 4.93675 6.17078 4.76105 6.08564 4.55549C6.00049 4.34992 5.97821 4.12372 6.02162 3.90549C6.06502 3.68726 6.17217 3.48681 6.3295 3.32947C6.48684 3.17214 6.68729 3.06499 6.90552 3.02158C7.12375 2.97818 7.34995 3.00045 7.55552 3.0856C7.76109 3.17075 7.93679 3.31495 8.0604 3.49995C8.18402 3.68496 8.25 3.90246 8.25 4.12497V5.24997ZM9.75 4.12497C9.75 3.90246 9.81598 3.68496 9.9396 3.49995C10.0632 3.31495 10.2389 3.17075 10.4445 3.0856C10.65 3.00045 10.8762 2.97818 11.0945 3.02158C11.3127 3.06499 11.5132 3.17214 11.6705 3.32947C11.8278 3.48681 11.935 3.68726 11.9784 3.90549C12.0218 4.12372 11.9995 4.34992 11.9144 4.55549C11.8292 4.76105 11.685 4.93675 11.5 5.06037C11.315 5.18399 11.0975 5.24997 10.875 5.24997H9.75V4.12497ZM12.75 14.25C12.75 14.4489 12.671 14.6396 12.5303 14.7803C12.3897 14.921 12.1989 15 12 15H9.75V9.74997H12.75V14.25ZM14.25 8.24997H9.75V6.74997H13.5C13.6989 6.74997 13.8897 6.82899 14.0303 6.96964C14.171 7.11029 14.25 7.30105 14.25 7.49997V8.24997Z" fill="#23D3A9"/>
            </svg>
            <p class="toric_card--offer-text">{{ block.settings.card_offer }}</p>
          </div>
          {% endif %}    

          <div class="toric_card--order">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8.86659 8.14671C9.2223 7.8388 9.50762 7.45796 9.70317 7.03006C9.89872 6.60215 9.99992 6.13718 9.99992 5.66671C9.99992 4.78265 9.64873 3.93481 9.02361 3.30968C8.39849 2.68456 7.55064 2.33337 6.66659 2.33337C5.78253 2.33337 4.93468 2.68456 4.30956 3.30968C3.68444 3.93481 3.33325 4.78265 3.33325 5.66671C3.33325 6.13718 3.43445 6.60215 3.63 7.03006C3.82555 7.45796 4.11087 7.8388 4.46659 8.14671C3.53335 8.5693 2.74156 9.25173 2.18591 10.1124C1.63025 10.9731 1.33423 11.9756 1.33325 13C1.33325 13.1769 1.40349 13.3464 1.52851 13.4714C1.65354 13.5965 1.82311 13.6667 1.99992 13.6667C2.17673 13.6667 2.3463 13.5965 2.47132 13.4714C2.59635 13.3464 2.66659 13.1769 2.66659 13C2.66659 11.9392 3.08801 10.9218 3.83816 10.1716C4.5883 9.42147 5.60572 9.00004 6.66659 9.00004C7.72745 9.00004 8.74487 9.42147 9.49501 10.1716C10.2452 10.9218 10.6666 11.9392 10.6666 13C10.6666 13.1769 10.7368 13.3464 10.8618 13.4714C10.9869 13.5965 11.1564 13.6667 11.3333 13.6667C11.5101 13.6667 11.6796 13.5965 11.8047 13.4714C11.9297 13.3464 11.9999 13.1769 11.9999 13C11.9989 11.9756 11.7029 10.9731 11.1473 10.1124C10.5916 9.25173 9.79983 8.5693 8.86659 8.14671ZM6.66659 7.66671C6.27102 7.66671 5.88434 7.54941 5.55544 7.32965C5.22655 7.10988 4.9702 6.79753 4.81883 6.43207C4.66745 6.06662 4.62784 5.66449 4.70501 5.27653C4.78219 4.88856 4.97267 4.5322 5.25237 4.25249C5.53208 3.97279 5.88844 3.78231 6.2764 3.70514C6.66437 3.62797 7.0665 3.66757 7.43195 3.81895C7.7974 3.97032 8.10976 4.22667 8.32952 4.55557C8.54929 4.88447 8.66659 5.27114 8.66659 5.66671C8.66659 6.19714 8.45587 6.70585 8.0808 7.08092C7.70573 7.45599 7.19702 7.66671 6.66659 7.66671ZM14.4733 6.08671C14.4113 6.02422 14.3375 5.97463 14.2563 5.94078C14.1751 5.90693 14.0879 5.88951 13.9999 5.88951C13.9119 5.88951 13.8248 5.90693 13.7435 5.94078C13.6623 5.97463 13.5886 6.02422 13.5266 6.08671L12.1933 7.42004L11.7799 7.00004C11.7179 6.93756 11.6442 6.88796 11.563 6.85411C11.4817 6.82027 11.3946 6.80284 11.3066 6.80284C11.2186 6.80284 11.1314 6.82027 11.0502 6.85411C10.969 6.88796 10.8952 6.93756 10.8333 7.00004C10.7091 7.12495 10.6394 7.29392 10.6394 7.47004C10.6394 7.64616 10.7091 7.81513 10.8333 7.94004L11.7266 8.83337C11.8515 8.95754 12.0205 9.02724 12.1966 9.02724C12.3727 9.02724 12.5417 8.95754 12.6666 8.83337L14.4466 7.05337C14.5139 6.99292 14.5682 6.9194 14.6062 6.83729C14.6442 6.75519 14.665 6.6662 14.6675 6.57577C14.67 6.48533 14.6541 6.39534 14.6207 6.31126C14.5873 6.22718 14.5371 6.15078 14.4733 6.08671Z" fill="#666666" fill-opacity="0.8"/>
            </svg>
            <p class="toric_card--order-text"><span id="cardOrder">600</span>+ recent orders today</p>
          </div>
          
          <div class="toric_card--price">
            <span class="toric_card--price-selling">{{ product.price_min | money_without_trailing_zeros }}</span>
            {% if product.compare_at_price_min > product.price_min %} 
            {%- assign priceOrg = product.compare_at_price_min -%}
            {%- assign priceSell = priceOrg | minus: product.price_min -%}
            {% assign priceOff = priceSell | times: 100 | divided_by: priceOrg  %}
            <span class="toric_card--price-original">{{ product.compare_at_price_min | money_without_trailing_zeros }}</span>
            {% if priceOff > 0 %}
            <div class="toric_card--price-discount">
              <span class="toric_card--price-off">Get {{ priceOff }}% OFF</span>
              <span class="discount__triangle"></span>
            </div>
            {% endif %}   
            {% endif %}
          </div>
        </div> 
      </a>
    </div>
    {% endif %}
    {% endfor %}
  </div>
  
</section>


<script>
//   $('.js__slider--mobile').slick({
//     dots: false,
//     infinite: false,
//     arrows: false,
//     variableWidth: true,
//   });
  
  $(document).ready(function(){
    $('.card__slider--toric').slick({
      dots: true,
      infinite: true,
      speed: 300,
      arrows: false,
      slidesToShow: 1,
      adaptiveHeight: true
    });
//     function slickForRecommendation(){

//           $(".toric_card").slick({
//             dots:false,
//             infinite: true,
//             slidesToShow: 3,
//             slidesToScroll: 1,
//             arrows:true,
//             autoplay: false,
//             autoplaySpeed: 2000,
//             prevArrow:'<div class="slick-prev"><i class="arrow left"></i></div>',
//             nextArrow:'<div class="slick-next"><i class="arrow right"></i></div>',
//           });
        
//     }

      let slickFlag = false;
      if ($(window).width() > 1200) {
//         slickForRecommendation();
        slickFlag = true;
      }
      $( window ).resize(function() {
        if ($(window).width() > 1200) {
//           slickForRecommendation();
          slickFlag = true;
        }else{
          if(slickFlag){
            $('.toric_card').slick('unslick');
            slickFlag = false;
          }
        }
      });

  }) 
</script>


{% schema %}
{
  "name": "Featured Product Section",
  "settings": [
    {
      "type": "text",
      "id": "section-heading",
      "label": "Section Heading",
      "default": "Featured Products"
    }
  ],
  "blocks": [
    {
      "name": "Featured Product Category",
      "type": "feature_slider",
      "settings": [
        {
          "type": "product",
          "id": "card_product",
          "label": "Select Product"
        },
        {
          "type": "text",
          "id": "card_offer",
          "label": "Offer Info",
          "default": "Get Solution for Free!"
        },
        {
          "type": "text",
          "id": "card_power",
          "label": "Power Info",
          "default": "Power"
        },
        {
          "type": "image_picker",
          "id": "card_image1",
          "label": "Select slider image 1"
        }
      ]
    }
  ],
  "presets":[ 
        { 
           "name":{ 
              "en":"Homepage Featured Products"
           },
           "category":{ 
              "en":"Homepage"
           }
        }
   ]
}
{% endschema %}

